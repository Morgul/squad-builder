<script type="text/ng-template" id="deleteSquad.html">
    <div class="modal-header">
        <h3 class="modal-title"><i class="fa fa-trash"></i> Delete Squad</h3>
    </div>
    <div class="modal-body text-center">
        <h3>Are you sure you want to delete this squad?</h3>
        <p class="text-muted">This operation can't be undone.</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger" ng-click="$close(true)"><i class="fa fa-trash"></i> Delete Squad</button>
        <button class="btn btn-default" ng-click="$dismiss('canceled')">Cancel</button>
    </div>
</script>

<div class="container my-squads">
    <div ng-if="hasSquads('empire')">
        <h1 class="text-center"><i class="fa fa-ge"></i> Imperial Squads</h1>
        <div class="squads-row">
            <div class="squad" ng-repeat="squad in squads | filter: { faction: 'empire' }">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <span class="pull-right">{{ squad.points }}</span>
                            <i class="fa fa-ge"></i>
                            <a href="/builder/{{ squad.id }}">
                                {{ squad.name }}
                            </a>
                        </h4>
                    </div>
                    <div class="panel-body">
                        <div class="btn-group pull-right">
                            <a href="/builder/{{ squad.id }}" class="btn btn-info btn-sm"><i class="fa fa-edit"></i> Edit</a>
                            <a href="/builder/{{ squad.id }}/summary" class="btn btn-primary btn-sm"><i class="fa fa-list"></i> Summary</a>
                            <a class="btn btn-danger btn-sm" ng-click="delete(squad.id)"><i class="fa fa-trash-o"></i> Delete</a>
                        </div>
                        <ul>
                            <li ng-repeat="member in squad.members">
                                {{ member.ship.name }}: <i>{{ member.pilot.name }} ({{ member.points }})</i>
                                <ul>
                                    <li ng-repeat="upgrade in member.equipped">
                                        <i>{{ upgrade.name }}</i>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="hasSquads('rebel')">
        <h1 class="text-center"><i class="fa fa-ra"></i> Rebel Squads</h1>
        <div class="squads-row">
            <div class="squad" ng-repeat="squad in squads | filter: { faction: 'rebel' }">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <span class="pull-right">{{ squad.points }}</span>
                            <i class="fa fa-ge"></i>
                            <a href="/builder/{{ squad.id }}">
                                {{ squad.name }}
                            </a>
                        </h4>
                    </div>
                    <div class="panel-body">
                        <div class="btn-group pull-right">
                            <a href="/builder/{{ squad.id }}" class="btn btn-info btn-sm"><i class="fa fa-edit"></i> Edit</a>
                            <a href="/builder/{{ squad.id }}/summary" class="btn btn-primary btn-sm"><i class="fa fa-list"></i> Summary</a>
                            <a class="btn btn-danger btn-sm" ng-click="delete(squad.id)"><i class="fa fa-trash-o"></i> Delete</a>
                        </div>
                        <ul>
                            <li ng-repeat="member in squad.members">
                                {{ member.ship.name }}: <i>{{ member.pilot.name }} ({{ member.points }})</i>
                                <ul>
                                    <li ng-repeat="upgrade in member.equipped">
                                        <i>{{ upgrade.name }}</i>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="hasSquads('scum')">
        <h1 class="text-center"><i class="icon-scum"></i> Scum Squads</h1>
        <div class="squads-row">
            <div class="squad" ng-repeat="squad in squads | filter: { faction: 'scum' }">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <span class="pull-right">{{ squad.points }}</span>
                            <i class="fa fa-ge"></i>
                            <a href="/builder/{{ squad.id }}">
                                {{ squad.name }}
                            </a>
                        </h4>
                    </div>
                    <div class="panel-body">
                        <div class="btn-group pull-right">
                            <a href="/builder/{{ squad.id }}" class="btn btn-info btn-sm"><i class="fa fa-edit"></i> Edit</a>
                            <a href="/builder/{{ squad.id }}/summary" class="btn btn-primary btn-sm"><i class="fa fa-list"></i> Summary</a>
                            <a class="btn btn-danger btn-sm" ng-click="delete(squad.id)"><i class="fa fa-trash-o"></i> Delete</a>
                        </div>
                        <ul>
                            <li ng-repeat="member in squad.members">
                                {{ member.ship.name }}: <i>{{ member.pilot.name }} ({{ member.points }})</i>
                                <ul>
                                    <li ng-repeat="upgrade in member.equipped">
                                        <i>{{ upgrade.name }}</i>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
